# xProb - Server Monitoring Dashboard

ä¸€ä¸ªæç®€ä¸”ç¾è§‚çš„æœåŠ¡å™¨æ¢é’ˆç›‘æ§ç³»ç»Ÿï¼Œä½¿ç”¨ Rust åç«¯å’Œç°ä»£ React å‰ç«¯ã€‚

![xProb](https://img.shields.io/badge/Rust-000000?style=flat&logo=rust&logoColor=white)
![React](https://img.shields.io/badge/React-20232A?style=flat&logo=react&logoColor=61DAFB)
![TypeScript](https://img.shields.io/badge/TypeScript-007ACC?style=flat&logo=typescript&logoColor=white)

## âœ¨ ç‰¹æ€§

- ğŸš€ **å®æ—¶ç›‘æ§** - WebSocket å®æ—¶æ¨é€ç³»ç»ŸæŒ‡æ ‡
- ğŸ–¥ï¸ **å¤šæœåŠ¡å™¨ç®¡ç†** - æ”¯æŒç›‘æ§å¤šå°æœåŠ¡å™¨
- ğŸ’» **CPU ç›‘æ§** - æ€»ä½“ä½¿ç”¨ç‡å’Œæ¯æ ¸å¿ƒè´Ÿè½½å¯è§†åŒ–
- ğŸ§  **å†…å­˜ç›‘æ§** - RAM å’Œ Swap ä½¿ç”¨æƒ…å†µ
- ğŸ’¾ **ç£ç›˜ç›‘æ§** - æŒ‚è½½ç‚¹å’Œä½¿ç”¨ç‡
- ğŸŒ **ç½‘ç»œç›‘æ§** - å®æ—¶ä¸Šä¼ /ä¸‹è½½é€Ÿåº¦
- ğŸ“Š **è´Ÿè½½å¹³å‡** - 1/5/15 åˆ†é’Ÿè´Ÿè½½
- ğŸ¨ **ç°ä»£ UI** - ç»ç’ƒæ‹Ÿæ€è®¾è®¡ï¼Œæµç•…åŠ¨ç”»
- ğŸ” **å®‰å…¨è®¤è¯** - JWT è®¤è¯ä¿æŠ¤ç®¡ç†æ¥å£
- âš¡ **ä¸€é”®éƒ¨ç½²** - æä¾›è‡ªåŠ¨åŒ–å®‰è£…è„šæœ¬

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Dashboard (ä¸»æ§ç«¯)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚   Web UI    â”‚  â”‚  REST API   â”‚  â”‚  WebSocket  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                          â”‚                                   â”‚
â”‚              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                      â”‚
â”‚              â”‚    Rust Backend       â”‚                      â”‚
â”‚              â”‚   (Axum + Tokio)      â”‚                      â”‚
â”‚              â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                           â”‚
           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
           â–¼               â–¼               â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚   Agent 1   â”‚ â”‚   Agent 2   â”‚ â”‚   Agent N   â”‚
    â”‚  (è¢«æ§ç«¯)   â”‚ â”‚  (è¢«æ§ç«¯)   â”‚ â”‚  (è¢«æ§ç«¯)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æ–¹å¼ä¸€ï¼šä¸€é”®å®‰è£…ï¼ˆæ¨èï¼‰

#### 1. å®‰è£…ä¸»æ§ç«¯ (Dashboard)

åœ¨ä½ çš„ä¸»æœåŠ¡å™¨ä¸Šè¿è¡Œï¼š

```bash
curl -fsSL https://your-domain.com/install.sh | sudo bash
```

æˆ–è€…æ‰‹åŠ¨å®‰è£…ï¼š

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/your-username/xprob.git
cd xprob

# æ„å»ºåç«¯
cd server && cargo build --release

# æ„å»ºå‰ç«¯
cd ../web && npm install && npm run build

# å¯åŠ¨æœåŠ¡
./server/target/release/xprob-server
```

#### 2. æ·»åŠ è¢«ç›‘æ§æœåŠ¡å™¨

ç™»å½• Dashboard åï¼Œè¿›å…¥ **Settings** é¡µé¢ï¼Œç‚¹å‡» **Show Install Command**ï¼Œå¤åˆ¶æ˜¾ç¤ºçš„å‘½ä»¤ï¼š

```bash
curl -fsSL http://your-dashboard:3001/agent.sh | sudo bash -s -- \
  --server http://your-dashboard:3001 \
  --token "your-jwt-token" \
  --name "$(hostname)" \
  --location "US" \
  --provider "Vultr"
```

åœ¨è¢«ç›‘æ§æœåŠ¡å™¨ä¸Šè¿è¡Œæ­¤å‘½ä»¤å³å¯è‡ªåŠ¨ï¼š
- ä¸‹è½½å¹¶å®‰è£…æ¢é’ˆ
- æ³¨å†Œåˆ°ä¸»æ§ç«¯
- åˆ›å»º systemd æœåŠ¡

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨å¼€å‘ç¯å¢ƒ

#### 1. å¯åŠ¨åç«¯æœåŠ¡

```bash
cd server
cargo run --release
```

æœåŠ¡å™¨å°†åœ¨ `http://localhost:3001` å¯åŠ¨ã€‚

#### 2. å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨

```bash
cd web
npm install
npm run dev
```

å‰ç«¯å°†åœ¨ `http://localhost:5173` å¯åŠ¨ã€‚

## ğŸ“ é¡¹ç›®ç»“æ„

```
xprob/
â”œâ”€â”€ server/                 # Rust åç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ main.rs        # ä¸»ç¨‹åº
â”‚   â””â”€â”€ Cargo.toml
â”œâ”€â”€ web/                    # React å‰ç«¯
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ pages/         # é¡µé¢ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ components/    # UI ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ hooks/         # è‡ªå®šä¹‰ Hooks
â”‚   â”‚   â””â”€â”€ context/       # React Context
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ scripts/                # å®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ install.sh         # ä¸»æ§ç«¯å®‰è£…è„šæœ¬
â”‚   â””â”€â”€ agent.sh           # è¢«æ§ç«¯å®‰è£…è„šæœ¬
â””â”€â”€ README.md
```

## ğŸ”Œ API æ¥å£

### å…¬å¼€æ¥å£

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/health` | GET | å¥åº·æ£€æŸ¥ |
| `/api/metrics` | GET | è·å–å½“å‰ç³»ç»ŸæŒ‡æ ‡ |
| `/api/servers` | GET | è·å–æœåŠ¡å™¨åˆ—è¡¨ |
| `/api/auth/login` | POST | ç”¨æˆ·ç™»å½• |
| `/api/auth/verify` | GET | éªŒè¯ Token |
| `/ws` | WebSocket | å®æ—¶æŒ‡æ ‡æ¨é€ (1ç§’/æ¬¡) |
| `/agent.sh` | GET | è·å–æ¢é’ˆå®‰è£…è„šæœ¬ |

### éœ€è¦è®¤è¯çš„æ¥å£

| ç«¯ç‚¹ | æ–¹æ³• | æè¿° |
|------|------|------|
| `/api/servers` | POST | æ·»åŠ æœåŠ¡å™¨ |
| `/api/servers/{id}` | DELETE | åˆ é™¤æœåŠ¡å™¨ |
| `/api/auth/password` | POST | ä¿®æ”¹å¯†ç  |

## ğŸ“Š ç³»ç»ŸæŒ‡æ ‡

```typescript
interface SystemMetrics {
  timestamp: string;
  hostname: string;
  os: { name, version, kernel, arch };
  cpu: { brand, cores, usage, frequency, per_core[] };
  memory: { total, used, available, swap_total, swap_used, usage_percent };
  disks: [{ name, mount_point, fs_type, total, used, available, usage_percent }];
  network: { interfaces[], total_rx, total_tx };
  uptime: number;
  load_average: { one, five, fifteen };
}
```

## ğŸ” é»˜è®¤å‡­æ®

- **é»˜è®¤å¯†ç **: `admin`
- é¦–æ¬¡ç™»å½•åè¯·ç«‹å³ä¿®æ”¹å¯†ç 

## ğŸ› ï¸ æœåŠ¡ç®¡ç†

```bash
# æŸ¥çœ‹çŠ¶æ€
systemctl status xprob

# é‡å¯æœåŠ¡
systemctl restart xprob

# æŸ¥çœ‹æ—¥å¿—
journalctl -u xprob -f

# åœæ­¢æœåŠ¡
systemctl stop xprob

# å¸è½½
curl -fsSL http://your-dashboard:3001/install.sh | sudo bash -s -- --uninstall
```

## ğŸ”§ æŠ€æœ¯æ ˆ

### åç«¯ (Rust)
- **Axum** - é«˜æ€§èƒ½ Web æ¡†æ¶
- **Tokio** - å¼‚æ­¥è¿è¡Œæ—¶
- **sysinfo** - ç³»ç»Ÿä¿¡æ¯é‡‡é›†
- **WebSocket** - å®æ—¶æ•°æ®æ¨é€
- **JWT** - è®¤è¯æˆæƒ
- **bcrypt** - å¯†ç åŠ å¯†

### å‰ç«¯ (React)
- **Vite** - å¿«é€Ÿæ„å»ºå·¥å…·
- **TypeScript** - ç±»å‹å®‰å…¨
- **Tailwind CSS** - åŸå­åŒ– CSS
- **React Router** - è·¯ç”±ç®¡ç†
- **è‡ªå®šä¹‰ç»„ä»¶** - è¿›åº¦ç¯ã€è¿›åº¦æ¡ç­‰

## ğŸ“„ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼
# vstats
